<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <title>上传文件</title>
    <script language="JavaScript" type="text/javascript" src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

</head>
<body>
<div style="text-align: center;">
    <form id="form1" method="post" action="/file/uploads" enctype="multipart/form-data">
        <div style="width: 80%; height: 30%; margin-top: 10%">
            学院：<select id="selF" name="college"><option>请选择</option></select><br>
        </div>
        <div style="width: 80%; height: 30% ;margin-top: 10%">
            专业：<select id="selT" name="major"><option>请选择</option></select><br>
        </div>
        <div style="width: 80%; height: 30% ;margin-top: 10%">
            年级：<select id="selG" name="grade"><option>请选择</option></select><br>
        </div>
        <input style="width: 80%; height: 30% ;margin-top: 10%" type="file" name="file"><br>
        <input style="width: 80%; height: 30% ;margin-top: 10%" type="submit" value="提交">
    </form>
</div>
<script  type="text/javascript">
    $(function(){
        function getQueryVariable(variable)
    {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            if(pair[0] == variable){return pair[1];}
        }
        return(false);
    }
        document.getElementById("form1").action = "/file/uploads?openid="+getQueryVariable("openid");
        function objInit(obj){
            return $(obj).html("<option>选择请</option>");
        }
        var arrData = {
            机械工程学院:"",
            化工学院:"",
            电子工程与光电技术学院:"",
            计算机科学与工程学院:"网络工程,软件工程,计算机科学与技术,人工智能",
            经济管理学院:"",
            能源与动力工程学院:"",
            自动化学院:"",
            理学院:"",
            外国语学院:"",
            公共事务学院:"",
            材料科学与工程学院:"",
            环境与生物工程学院:"",
            设计艺术与传媒学院:"",
            钱学森学院:"",
            知识产权学院:"",
            马克思主义学院:"",
            国际教育学院:"",
            继续教育学院:"",
            中法工程师学院:"",
            紫金学院:"",
            泰州科技学院:""
        };
        var grade = ["大一上", "大一下","大二上", "大二下", "大三上", "大三上", "大四上", "大四下"];
        $.each(grade,function(pG){
            $("#selG").append("<option>"+this+"</option>");
        });

        $.each(arrData,function(pF){
            $("#selF").append("<option>"+pF+"</option>");
        });
        $("#selF").change(function(){
            objInit("#selT");
            $.each(arrData,function(pF,pS){
                if($("#selF option:selected").text()==pF){
                    $.each(pS.split(","),function(pT,pC){
                        $("#selT").append("<option>"+this+"</option>");
                    });
                }
            });
        });
    })
</script>
</body>
</html>